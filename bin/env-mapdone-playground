#!/bin/sh
set -ue

key()
{
	# see /usr/include/X11/keysymdef.h, /usr/include/X11/XF86keysym.h
	xdotool key --clearmodifiers "$@"
}

type()
{
	xdotool type --clearmodifiers "$@"
}

sleep 1
key super+v
key super+Return
while [ `xdotool search --onlyvisible --name "Shell" | wc -l` -ne 1 ]; do :; done
key super+Return
while [ `xdotool search --onlyvisible --name "Shell" | wc -l` -ne 2 ]; do :; done
chromium-browser --incognito http://localhost:1234 &
while [ `xdotool search --onlyvisible --name "Chromium" | wc -l` -ne 1 ]; do :; done
key F12
key shift+super+Right
key super+r Right Return

key super+Left
type "cd ~/repos/mapdone-haste; ./project.sh backend run-server"
key Return

key super+Down
type "cd ~/repos/mapdone-haste; ./project.sh frontend dev-server"
key Return
