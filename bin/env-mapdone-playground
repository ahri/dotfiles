#!/bin/sh
set -ue
mod=alt

key()
{
	# see /usr/include/X11/keysymdef.h, /usr/include/X11/XF86keysym.h
	xdotool key --clearmodifiers "$@"
}

type()
{
	xdotool type --clearmodifiers "$@"
}

sleep 1

key $mod+Return
while [ `xdotool search --onlyvisible --name "Shell" | wc -l` -ne 1 ]; do :; done
type "cd ~/repos/mapdone; ./project.sh backend run-server"
key Return

key $mod+v
key $mod+Return
while [ `xdotool search --onlyvisible --name "Shell" | wc -l` -ne 2 ]; do :; done
type "cd ~/repos/mapdone; ./project.sh frontend dev-server"
key Return

# chromium-browser --incognito http://localhost:1234 &
# while [ `xdotool search --onlyvisible --name "Chromium" | wc -l` -ne 1 ]; do :; done
# key F12
# key shift+$mod+Right
# key $mod+r Right Return
